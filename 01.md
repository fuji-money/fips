# FIP-01

Basic protocol flow description
-------------------------------


## Actors
There are three main actors: 

- Treasury: It's in charge of the first Synth issuance and several checks through the protocol. It collects [Minting Fee](#minting-fee)(s).
- Borrowers: who locks collateral to mint **Synth**(s). They MUST remain *healthy* all the times, ie. they MUST maintain the collateralization ratio of their [Safe](#safe)(s) above the [Minimum Collatral Ratio](#minimum-collateral-ratio).
- Liquidators: who commits **Synth**(s) to be used to liquidate Safe(s) that have the value of their collateral going below the [Minimum Collatral Ratio](#minimum-collateral-ratio) 


## Covenants
A collection of [covenants](#covenants) regulates the issuance and the burn of the synthetic assets (from now on **Synth**).

1. [Safe](#safe), holds the borrower's collateral, used to claim Synth when minting.
2. [Mint](#mint), holds the reissuance token and regulates the issuance of the Synth. 
3. [Treasury](#treasury), holds the Synth collected as [Minting Fee](#minting-fee)(s).
4. [Hunter](#hunter), holds Synth of liquidators to be burnt to unlock collateral of unhealty safe. 

### Safe

There are two types of Safe covenant:

- Unlimited Safe
- Prime Safe

### Mint

The contract for minting Synth is split into two stages:

1. In the first stage, the reissuance token (RT) held in the **mint** covenant is used to issue an arbitrary amount of Synth, which is then sent to the **claim** covenant.
2. In the second stage, the **claim** covenant releases the Synth only if the appropriate amount of collateral is locked in the **Safe** covenant and the [Minting Fee](#minting-fee) to the **Treasury** is paid.

The **commitment** covenant constructs the **claim** covenant, the second stage, using oracle-attested price data and ensures that the Synth is sent to the **mint** covenant that was constructed. 

The **claim** covenant has two branches: 

- Release: releases the Synth if the collateral is locked 
- Burn: allows anyone to burn the locked Synth if the oracle-attested price data used in the first stage is out-of-date.

The **claim** covenant uses two timelocks to ensure that the oracle-attested price data used in the first stage is recent. The **Borrower** is expected to release the Synth and lock their collateral within the timelock, otherwise the Synth will be burned. If the **Borrower** incurs expenses for the minting, using expired price attestation may not be rational.

Either the **Treasury** or the public is expected to monitor the network for malicious issuance and burn of the Synth if needed. The network fee for the burn transaction will be offset by the [Minting Fee](#minting-fee).
